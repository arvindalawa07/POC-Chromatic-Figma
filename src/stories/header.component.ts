import { Component, Input, Output, EventEmitter } from '@angular/core';
import { CommonModule } from '@angular/common';

import { ButtonComponent } from './button.component';
import type { User } from './user';

@Component({
  selector: 'app-header',
  standalone: true,
  imports: [CommonModule, ButtonComponent],
  template: `<header>
  <div class="app-header">
    <div>
    <svg width="176" height="53" viewBox="0 0 176 53" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M163.565 41.4255C161.82 43.1768 159.682 44.0234 157.043 44.0234C154.403 44.0234 152.265 43.1768 150.521 41.4255C149.342 40.2428 148.608 38.7758 148.216 37.1343H139.105C139.556 41.4772 141.243 45.0381 144.166 47.8558C147.707 51.2422 151.982 52.9354 157.043 52.9354C162.103 52.9354 166.32 51.2422 169.861 47.8558C172.842 45.0316 174.529 41.419 174.98 37.1343H165.869C165.477 38.7693 164.743 40.2363 163.565 41.4255Z" fill="#EF5449"/>
<path d="M69.9457 21.4497C66.63 18.1214 62.4129 16.4282 57.4039 16.4282C52.395 16.4282 48.0684 18.1214 44.5853 21.4497C41.1022 24.7779 39.3574 29.1273 39.3574 34.4848C39.3574 39.8423 41.1022 44.2498 44.5853 47.6944C48.1264 51.0808 52.4014 52.774 57.4039 52.774C60.945 52.774 64.2092 52.0373 67.1322 50.6284C70.0552 49.1614 72.1927 47.074 73.6542 44.3662L66.7395 40.6437C66.0055 42.0525 64.8273 43.1253 63.2564 43.9202C61.679 44.7087 59.9406 45.1029 58.0285 45.1029C55.4403 45.1029 53.2512 44.4243 51.5065 43.0155C49.7617 41.6066 48.6929 39.8552 48.4161 37.5998H74.8968C75.0062 36.1328 75.0642 35.06 75.0642 34.4396C75.0062 29.1919 73.3194 24.8426 69.9457 21.4561V21.4497ZM48.3002 31.4926C48.635 29.2371 49.6522 27.4858 51.3391 26.1286C53.0259 24.7715 55.1634 24.0994 57.4683 24.0994C59.7732 24.0994 61.7434 24.7779 63.3143 26.0769C64.8917 27.3759 65.8445 29.179 66.1793 31.4926H48.3002Z" fill="#292A2C"/>
<path d="M130.839 21.6758C127.356 18.3475 123.139 16.6543 118.02 16.6543C112.902 16.6543 108.633 18.3475 105.144 21.6758C101.661 25.004 99.916 29.2952 99.916 34.7109C99.916 40.1266 101.661 44.5341 105.144 47.8623C108.685 51.2487 113.018 52.9419 118.02 52.9419C123.023 52.9419 127.298 51.2487 130.839 47.8623C134.38 44.4759 136.125 40.0167 136.125 34.7109C136.125 29.4051 134.38 25.004 130.839 21.6758ZM124.542 41.4255C122.798 43.1769 120.66 44.0235 118.02 44.0235C115.381 44.0235 113.243 43.1769 111.498 41.4255C109.754 39.6742 108.91 37.3606 108.91 34.7109C108.91 32.0612 109.754 29.9156 111.498 28.1642C113.243 26.471 115.381 25.5663 117.963 25.5663C120.544 25.5663 122.688 26.4129 124.427 28.1642C126.171 29.9156 127.015 32.0612 127.015 34.7109C127.124 37.4187 126.281 39.6806 124.542 41.4255Z" fill="#292A2C"/>
<path d="M33.4534 28.7843C31.2064 26.0765 27.4915 23.989 22.431 22.6319L16.1344 20.7706C14.1642 20.2601 12.7027 19.4717 11.6919 18.5669H1.01081C2.24696 23.7047 6.4061 27.369 13.5526 29.4629L19.8492 31.0979C22.3215 31.8347 24.1758 32.733 25.3025 33.8639C26.4807 34.9949 26.9893 36.4619 26.9314 38.1551C26.8219 40.0163 26.03 41.4834 24.4591 42.6143C22.9396 43.7453 20.918 44.3657 18.4457 44.3657C15.9734 44.3657 13.7779 43.6871 12.1491 42.2783C10.5202 40.8694 9.67675 39.1762 9.56086 37.1405H0C0 41.5997 1.68683 45.3222 5.11844 48.4307C8.4921 51.481 12.9345 52.9998 18.3878 52.9998C23.3388 52.9998 27.4979 51.7008 30.8716 49.1028C34.3032 46.5048 36.1574 42.9504 36.3828 38.433C36.7176 34.7105 35.7068 31.4921 33.4598 28.7843H33.4534Z" fill="#292A2C"/>
<path d="M10.0117 14.9028C10.0117 13.0997 10.7457 11.6844 12.1492 10.5599C13.5528 9.42897 15.4134 8.86672 17.6604 8.86672C20.0232 8.86672 21.9354 9.48713 23.281 10.6698C24.6331 11.8525 25.3026 13.494 25.3026 15.5232H34.8056C34.8056 10.8378 33.1767 7.11535 29.9704 4.29118C26.7641 1.46702 22.7144 0 17.7698 0C12.8252 0 8.885 1.40885 5.51134 4.29118C2.19562 6.99902 0.508789 10.6116 0.508789 15.129V15.5232H10.0117C10.0117 15.297 10.0117 15.0708 10.0117 14.9028Z" fill="#EF5449"/>
<path d="M150.579 28.1643C152.323 26.4711 154.461 25.5663 157.043 25.5663C159.624 25.5663 161.768 26.4129 163.507 28.1643C165.084 29.7476 165.979 31.7187 166.095 34.0324H175.089C174.98 29.0109 173.235 24.8296 169.861 21.6177C166.378 18.2894 162.161 16.5962 157.043 16.5962C151.924 16.5962 147.656 18.2894 144.166 21.6177C140.85 24.836 139.106 28.9527 138.996 34.0324H147.99C148.1 31.7187 148.943 29.7412 150.579 28.1643Z" fill="#292A2C"/>
<path d="M96.6516 25.3397H88.2174V40.9147C88.2174 42.2137 88.5522 43.1701 89.1703 43.7388C89.7884 44.3011 90.7477 44.6953 91.9838 44.7535C93.22 44.8116 94.7394 44.8116 96.5937 44.6953V52.5409C89.9558 53.2777 85.1206 52.9352 82.5904 50.6797C80.0022 48.3661 79.5 46.1106 79.5 40.9147V8.40767L88.1595 5.47363V15.9689H96.5937L96.6516 25.3397Z" fill="#292A2C"/>
</svg>
    </div>
    <div>
      <div *ngIf="user">
        <span class="welcome">
          Welcome, <b>{{ user.name }}</b
          >!
        </span>
        <storybook-button
          *ngIf="user"
          size="small"
          (onClick)="onLogout.emit($event)"
          label="Log out"
        ></storybook-button>
      </div>
      <div *ngIf="!user">
        <storybook-button
          *ngIf="!user"
          size="small"
          class="margin-left"
          (onClick)="onLogin.emit($event)"
          label="Log in"
        ></storybook-button>
        <storybook-button
          *ngIf="!user"
          size="small"
          [primary]="true"
          class="margin-left"
          (onClick)="onCreateAccount.emit($event)"
          label="Sign up"
        ></storybook-button>
      </div>
    </div>
  </div>
</header>`,
  styleUrls: ['./header.css'],
})
export class HeaderComponent {
  @Input()
  user: User | null = null;

  @Output()
  onLogin = new EventEmitter<Event>();

  @Output()
  onLogout = new EventEmitter<Event>();

  @Output()
  onCreateAccount = new EventEmitter<Event>();
}
